"use strict";(self.webpackChunk_betterdiscord_docs=self.webpackChunk_betterdiscord_docs||[]).push([[3702],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>g});var i=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=i.createContext({}),d=function(e){var n=i.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=d(e.components);return i.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},c=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=d(t),g=a,h=c["".concat(l,".").concat(g)]||c[g]||u[g]||o;return t?i.createElement(h,r(r({ref:n},p),{},{components:t})):i.createElement(h,r({ref:n},p))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,r=new Array(o);r[0]=c;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,r[1]=s;for(var d=2;d<o;d++)r[d]=t[d];return i.createElement.apply(null,r)}return i.createElement.apply(null,t)}c.displayName="MDXCreateElement"},3273:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var i=t(7462),a=(t(7294),t(3905));const o={sidebar_position:6,description:"Work with other addons."},r="Addon Interaction",s={unversionedId:"plugins/basics/addons",id:"plugins/basics/addons",title:"Addon Interaction",description:"Work with other addons.",source:"@site/docs/plugins/basics/addons.md",sourceDirName:"plugins/basics",slug:"/plugins/basics/addons",permalink:"/plugins/basics/addons",draft:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6,description:"Work with other addons."},sidebar:"pluginsSidebar",previous:{title:"UI Components",permalink:"/plugins/basics/ui"},next:{title:"Changing Discord",permalink:"/plugins/basics/discord"}},l={},d=[{value:"AddonAPI",id:"addonapi",level:2},{value:"Getting Addons",id:"getting-addons",level:2},{value:"Toggling Addons",id:"toggling-addons",level:2},{value:"Interacting with Plugins",id:"interacting-with-plugins",level:2}],p={toc:d};function u(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,i.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"addon-interaction"},"Addon Interaction"),(0,a.kt)("p",null,"Within BetterDiscord you can interact with different addons in two main ways. Either through direct interaction--like where one plugin puts something in the global scope, and another plugin uses it--or through the ",(0,a.kt)("inlineCode",{parentName:"p"},"BdApi"),". That second one is what we'll be taking a look at today."),(0,a.kt)("h2",{id:"addonapi"},"AddonAPI"),(0,a.kt)("p",null,"The addon api is available as part of ",(0,a.kt)("inlineCode",{parentName:"p"},"BdApi"),". Theres two instances, one for plugins and one for themes at ",(0,a.kt)("inlineCode",{parentName:"p"},"BdApi.Plugins")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"BdApi.Themes")," respectively. This api has a few helpful utilities for interacting with other plugins, and even has the current addon folder as a property. For a more exhaustive list of available methods and properties, take a look at the ",(0,a.kt)("a",{parentName:"p",href:"../api"},"api reference"),"."),(0,a.kt)("h2",{id:"getting-addons"},"Getting Addons"),(0,a.kt)("p",null,"You can get a specific addon if you know the addon ID using ",(0,a.kt)("inlineCode",{parentName:"p"},"get(id)"),". For example to get the instance of ZeresPluginLibrary you can do"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'BdApi.Plugins.get("ZeresPluginLibrary");\n')),(0,a.kt)("p",null,"This will give you an object that includes the addon's meta information, as well as some other BetterDiscord internal information. Most notably there is also an ",(0,a.kt)("inlineCode",{parentName:"p"},"instance")," property that is the current instance of the plugin. This is probably the most important property as it gives you access to directly interact."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Modifying the values of this addon instance is unsupported. The ",(0,a.kt)("inlineCode",{parentName:"p"},"instance")," property is also subject to change until a new standard is introduced.")),(0,a.kt)("p",null,"Alternatively you can get ",(0,a.kt)("em",{parentName:"p"},"all")," the available addons in a giant array."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"BdApi.Plugins.getAll();\n")),(0,a.kt)("p",null,"This is useful if you need to interact with many addons, or if your checking for existence of others."),(0,a.kt)("h2",{id:"toggling-addons"},"Toggling Addons"),(0,a.kt)("p",null,"If you have the ID of the addon you'd like to toggle, this is pretty straightforward."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'BdApi.Themes.toggle("Nox");\n')),(0,a.kt)("p",null,"Of course you can have more granular control and specifically enable or disable when you need to. You can even combine all three."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'BdApi.Themes.enable("Nox");  // Nox is now enabled\nBdApi.Themes.toggle("Nox");  // Nox is now disabled\nBdApi.Themes.enable("Nox");  // Nox is now enabled\nBdApi.Themes.toggle("Nox");  // Nox is now disabled\nBdApi.Themes.disable("Nox"); // Nox is now disabled\nBdApi.Themes.toggle("Nox");  // Nox is now enabled\nBdApi.Themes.enable("Nox");  // Nox is now enabled\nBdApi.Themes.disable("Nox"); // Nox is now disabled\n')),(0,a.kt)("p",null,"You can even check if it's already enabled to save yourself some trouble."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'BdApi.Themes.isEnabled("Nox");\n')),(0,a.kt)("h2",{id:"interacting-with-plugins"},"Interacting with Plugins"),(0,a.kt)("p",null,"Depending on what you are trying to do, it may be useful to quickly check if the plugin is enabled before trying to interact with it."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'BdApi.Plugins.isEnabled("Zalgo");\n')),(0,a.kt)("p",null,"Keep in mind there are many functions in plugins that ",(0,a.kt)("u",null,"do not")," require them to be enabled for them to be used. This is how most plugin libraries operate."),(0,a.kt)("p",null,"From there, you can even directly call functions from your plugin. One common use-case for this is when you want to add an optional feature to your plugin that makes use of another plugin."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:"showLineNumbers",showLineNumbers:!0},'class MyPlugin {\n    start() {\n        let myGreeting = "Hello User!";\n        if (BdApi.Plugins.isEnabled("Zalgo")) {\n            const zalgoPlugin = BdApi.Plugins.get("Zalgo").instance;\n            // highlight-next-line\n            if (zalgoPlugin?.format) {\n                myGreeting = zalgoPlugin.format(myGreeting);\n            }\n        }\n        BdApi.showToast(myGreeting);\n    }\n\n    stop() {\n\n    }\n}\n')),(0,a.kt)("p",null,'In this example, a user with this plugin will get a normal "Hello User!" greeting. But if they have a Zalgo plugin installed and enabled, they\'ll get a Zalgo-style greeting instead.'),(0,a.kt)("p",null,"On line 6 (the highlighted line), we check for the ",(0,a.kt)("inlineCode",{parentName:"p"},"format()")," function before we use it. This is one of the most important techniques to use when interacting with other plugins through this interface. Neither BetterDiscord nor the other plugin will always guarantee a specific stable internal API to the plugin. Therefore, it's best to check that the plugin's architecture has not been changed before using it like we do here. That said, you are absolutely free and encouraged to developer an interchange API between plugins if both developers agree. Agreements like that reduce errors and issues for end users."))}u.isMDXComponent=!0}}]);